<!DOCTYPE html><html><head><title>GST Sale Book</title><style>body{font-family:Arial,sans-serif;font-size:11px;margin:10px}.header{text-align:center;margin-bottom:15px}.header h3{margin:0;color:#8B0000}.info{margin-bottom:10px;font-size:11px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #000;padding:3px 5px}th{background:#f0f0f0}.text-end{text-align:right}.fw-bold{font-weight:bold}.total-row{background:#333;color:#fff}@media print{body{margin:0}}</style></head>
<body onload="window.print()"><div class="header"><h3>GST Sale Book</h3><div class="info">Period: {{ \Carbon\Carbon::parse($dateFrom)->format('d-m-Y') }} to {{ \Carbon\Carbon::parse($dateTo)->format('d-m-Y') }}</div></div>
<table><thead><tr><th>#</th><th>Date</th><th>Invoice</th><th>Party</th><th>GSTN</th><th class="text-end">Taxable</th><th class="text-end">CGST</th><th class="text-end">SGST</th><th class="text-end">IGST</th><th class="text-end">Total</th></tr></thead>
<tbody>@foreach($sales ?? [] as $index => $sale)<tr><td>{{ $index + 1 }}</td><td>{{ $sale->sale_date->format('d-m-Y') ?? '' }}</td><td>{{ $sale->series ?? '' }}{{ $sale->invoice_no ?? '' }}</td><td>{{ $sale->customer->name ?? 'N/A' }}</td><td>{{ $sale->customer->gst_number ?? '-' }}</td><td class="text-end">{{ number_format($sale->nt_amount ?? 0, 2) }}</td><td class="text-end">{{ number_format($sale->cgst_amount ?? 0, 2) }}</td><td class="text-end">{{ number_format($sale->sgst_amount ?? 0, 2) }}</td><td class="text-end">{{ number_format($sale->igst_amount ?? 0, 2) }}</td><td class="text-end fw-bold">{{ number_format($sale->net_amount ?? 0, 2) }}</td></tr>@endforeach</tbody>
<tfoot><tr class="total-row"><td colspan="5" class="text-end">Total:</td><td class="text-end">{{ number_format($totals['taxable'] ?? 0, 2) }}</td><td class="text-end">{{ number_format($totals['cgst'] ?? 0, 2) }}</td><td class="text-end">{{ number_format($totals['sgst'] ?? 0, 2) }}</td><td class="text-end">{{ number_format($totals['igst'] ?? 0, 2) }}</td><td class="text-end">{{ number_format($totals['total'] ?? 0, 2) }}</td></tr></tfoot></table></body></html>
